{"version":3,"file":"index.esm.js","sources":["../src/device.ts","../src/index.ts"],"sourcesContent":["/**\n * audio/device - audio interface\n * Part of Stardazed\n * (c) 2015-Present by Arthur Langereis - @zenmumbler\n * https://github.com/stardazed/stardazed\n */\n\ndeclare const webkitAudioContext: {\n\tprototype: AudioContext;\n\tnew (): AudioContext;\n};\n\nlet sharedAudioContext_: AudioContext | undefined;\n\n/**\n * @internal\n */\nexport function sharedAudioContext() {\n\tif (! sharedAudioContext_) {\n\t\tif (\"AudioContext\" in window) {\n\t\t\tsharedAudioContext_ = new AudioContext();\n\t\t}\n\t\telse if (\"webkitAudioContext\" in window) {\n\t\t\tsharedAudioContext_ = new webkitAudioContext();\n\t\t}\n\t\telse {\n\t\t\tthrow new Error(\"WebAudio is not supported.\");\n\t\t}\n\t}\n\treturn sharedAudioContext_;\n}\n\nexport interface AudioDevice {\n\tctx: AudioContext;\n}\n\nexport function makeAudioDevice(): AudioDevice {\n\treturn {\n\t\tctx: sharedAudioContext()\n\t};\n}\n","/**\n * @stardazed/audio - audio device\n * Part of Stardazed\n * (c) 2015-Present by Arthur Langereis - @zenmumbler\n * https://github.com/stardazed/stardazed\n */\n\n export * from \"./device\";\n"],"names":[],"mappings":"AAAA;;;;;;AAYA,IAAI,mBAA6C,CAAC;;;;AAKlD;IACC,IAAI,CAAE,mBAAmB,EAAE;QAC1B,IAAI,cAAc,IAAI,MAAM,EAAE;YAC7B,mBAAmB,GAAG,IAAI,YAAY,EAAE,CAAC;SACzC;aACI,IAAI,oBAAoB,IAAI,MAAM,EAAE;YACxC,mBAAmB,GAAG,IAAI,kBAAkB,EAAE,CAAC;SAC/C;aACI;YACJ,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;SAC9C;KACD;IACD,OAAO,mBAAmB,CAAC;CAC3B;AAMD;IACC,OAAO;QACN,GAAG,EAAE,kBAAkB,EAAE;KACzB,CAAC;CACF;;ACxCD;;;;;GAKG;;;;"}